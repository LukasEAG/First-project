"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var menuOpenBtns=document.querySelectorAll(".nav__mobile-menu-btn--open"),menuCloseBtn=document.querySelector(".nav__mobile-menu-btn--close"),mobileMenu=document.querySelector(".nav__menu"),menuItems=document.querySelectorAll(".nav__menu-item"),body=document.querySelector("body"),multiLangBtns=(menuOpenBtns.forEach(function(e){return e.addEventListener("click",function(){mobileMenu.classList.add("active"),e.classList.add("hide-btn"),menuCloseBtn.classList.add("show-btn"),body.classList.add("stop-scrolling"),langList.classList.remove("active-lang")})}),menuCloseBtn.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")}),menuItems.forEach(function(e){e.addEventListener("click",function(){mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),document.querySelectorAll(".nav__more-lang-btn")),langList=document.querySelector(".nav__lang-list"),closeLang=(multiLangBtns.forEach(function(e){e.addEventListener("click",function(){langList.classList.toggle("active-lang"),mobileMenu.classList.remove("active"),menuOpenBtns.forEach(function(e){return e.classList.remove("hide-btn")}),menuCloseBtn.classList.remove("show-btn"),body.classList.remove("stop-scrolling")})}),function(){langList.classList.toggle("active-lang")}),gallerySlider=document.querySelector(".showreel__gallery-img-box"),buttons=document.querySelectorAll("[data-carousel-button]"),galleryBox=document.querySelector(".showreel__gallery-img-box"),showRellMobileBtns=(buttons.forEach(function(e){e.addEventListener("click",function(){var a="next"===e.dataset.carouselButton?1:-1,r=document.querySelectorAll(".showreel__position");r.forEach(function(e,t){var n=gallerySlider.querySelector("[data-slide-".concat(t,"]")),o=_toConsumableArray(r).indexOf(n)+a;(o=o<0?r.length-1:o)>r.length-1&&(o=0),r[o].dataset["slide-".concat(t)]=!0,delete n.dataset["slide-".concat(t)]})})}),document.querySelectorAll("[data-show-btn]")),nextBtn=document.querySelector('[data-show-btn="next"]'),prevBtn=document.querySelector('[data-show-btn="prev"]'),contentWidth=1600,accordeon=(showRellMobileBtns.forEach(function(o){o.addEventListener("click",function(){var e="next"===o.dataset.showBtn?1:-1,t=o.closest("[data-carousel]").querySelector("[data-carousel-imgs]"),n=t.querySelector("[data-active]"),e=_toConsumableArray(t.children).indexOf(n)+e;(e=e<0?t.children.length-1:e)>=t.children.length&&(e=0),t.children[e].dataset.active=!0,delete n.dataset.active})}),window.addEventListener("resize",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),window.addEventListener("load",function(){var e=window.innerWidth/contentWidth;galleryBox.style.transform=1<=e?"scale(1)":"scale(".concat(e,")")}),document.querySelector(".questions__box-lists")),accordeonBtns=document.querySelectorAll(".questions__accordeon-box-content");function openAccordeonItems(){this.nextElementSibling.classList.contains("show-acc")?(this.nextElementSibling.classList.remove("show-acc"),this.lastElementChild.classList.remove("active")):(closeAccordeonItems(),this.nextElementSibling.classList.toggle("show-acc"),this.lastElementChild.classList.toggle("active"))}var multilang,closeAccordeonItems=function(){document.querySelectorAll(".questions__accordeon-info").forEach(function(e){return e.classList.remove("show-acc")}),accordeonBtns.forEach(function(e){e.lastElementChild.classList.remove("active")})},clickOutsideAccordeon=function(e){e.target.classList.contains("target")||e.target.classList.contains("questions__accordeon-info")||e.target.classList.contains("questions__accordeon-info-text")||closeAccordeonItems()},budgetBoxFrom=(accordeonBtns.forEach(function(e){e.addEventListener("click",openAccordeonItems)}),window.addEventListener("click",clickOutsideAccordeon),document.querySelector(".contact__budget-box--from")),budgetBoxTo=document.querySelector(".contact__budget-box--to"),budgetInputFrom=document.querySelector("#budget-from"),budgetInputTo=document.querySelector("#budget-to"),langBtns=(budgetInputFrom.addEventListener("focusin",function(){budgetInputFrom.value="",budgetBoxFrom.classList.add("active")}),budgetInputTo.addEventListener("focusin",function(){budgetInputTo.value="",budgetBoxTo.classList.add("active")}),budgetInputFrom.addEventListener("focusout",function(){budgetBoxFrom.classList.remove("active"),budgetBoxTo.classList.remove("active")}),budgetInputTo.addEventListener("focusout",function(){budgetBoxTo.classList.remove("active")}),document.querySelectorAll(".nav__lang-btn")),MultiLang=function(e,t,n){this.phrases={},this.selectedLanguage=(t||navigator.language||navigator.userLanguage).substring(0,2),this.onLoad=n,void 0!==e&&((t=new XMLHttpRequest).open("GET",e,!0),t.onreadystatechange=function(e){4==e.target.readyState&&200==e.target.status&&(this.phrases=JSON.parse(e.target.responseText),this.setLanguage(this.selectedLanguage),this.onLoad)&&this.onLoad()}.bind(this),t.addEventListener("error",function(e){console.log("MultiLang.js: Error reading json file.")},!1),t.send(null)),this.setLanguage=function(e){if(!this.phrases.hasOwnProperty(e))for(var t in this.phrases)if(this.phrases.hasOwnProperty(t)){e=t;break}this.selectedLanguage=e},this.get=function(e){var t;return t=(t=this.phrases[this.selectedLanguage]?this.phrases[this.selectedLanguage][e]:t)||e}};function onLoad(){multilang=new MultiLang("dataLang.json","en")}function langSelectChange(e){multilang.setLanguage(e.value),refreshLabels()}function refreshLabels(){for(var e=document.querySelectorAll("[data-lang]"),t=0,n=e.length;t<n;t++){var o=e[t].dataset.lang;""!=o&&(e[t].textContent=multilang.get(o))}}langBtns.forEach(function(e){return e.addEventListener("click",function(e){langSelectChange(e.target)})}),body.addEventListener("load",onLoad()),langBtns.forEach(function(e){return e.addEventListener("click",function(){langList.classList.remove("active-lang")})});var btnFileUpload=document.querySelector(".contact__attachments-btn"),hideFileInput=document.querySelector(".contact__attachments-input"),fileUploadLabel=document.querySelector(".contact__attachments-label"),labelOutput=[],footerYear=(btnFileUpload.addEventListener("click",function(e){e.preventDefault(),hideFileInput.click()}),hideFileInput.addEventListener("change",function(){var e=Array.prototype.map.call(hideFileInput.files,function(e){return e.name});fileUploadLabel.innerText="Wybrane pliki:",e.map(function(e){var t=document.createElement("li");t.innerText=e,fileUploadLabel.appendChild(t)})}),document.querySelector(".footer__foot-year")),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};handleCurrentYear();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudU9wZW5CdG5zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUNsb3NlQnRuIiwicXVlcnlTZWxlY3RvciIsIm1vYmlsZU1lbnUiLCJtZW51SXRlbXMiLCJib2R5IiwibXVsdGlMYW5nQnRucyIsImZvckVhY2giLCJidG4iLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkIiwiY2xhc3NMaXN0IiwibGFuZ0xpc3QiLCJyZW1vdmUiLCJpdGVtIiwidG9nZ2xlIiwiZ2FsbGVyeVNsaWRlciIsImJ1dHRvbnMiLCJnYWxsZXJ5Qm94Iiwic2hvd1JlbGxNb2JpbGVCdG5zIiwiYnV0dG9uIiwib2Zmc2V0IiwiZGF0YXNldCIsImNhcm91c2VsQnV0dG9uIiwiaW1nUG9zIiwiY29uY2F0IiwiaW5kZXgiLCJpbmRleE9mIiwiaW5kZXhTbGlkZSIsIm5ld1NsaWRlIiwibGVuZ3RoIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwibmV4dEJ0biIsImFjY29yZGVvbiIsInNob3dCdG4iLCJpbWdMaXN0IiwiY2xvc2VzdCIsIm5ld0FjdGl2ZUltZyIsImNoaWxkcmVuIiwiYWN0aXZlSW1nIiwiY291bnRlciIsIndpbmRvdyIsImFjdGl2ZSIsImluc2V0V2luZG93V2lkdGgiLCJib3hXaWR0aCIsImlubmVyV2lkdGgiLCJjb250ZW50V2lkdGgiLCJzdHlsZSIsInRyYW5zZm9ybSIsImxhc3RFbGVtZW50Q2hpbGQiLCJhY2NvcmRlb25CdG5zIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidGhpcyIsImNsb3NlQWNjb3JkZW9uSXRlbXMiLCJhbGxBY3RpdmVJdGVtcyIsImxhYmVsT3V0cHV0IiwiY2xpY2tPdXRzaWRlQWNjb3JkZW9uIiwiZSIsInRhcmdldCIsImNvbnRhaW5zIiwiYnVkZ2V0SW5wdXRGcm9tIiwiYnVkZ2V0Qm94VG8iLCJidWRnZXRCb3hGcm9tIiwib3BlbkFjY29yZGVvbkl0ZW1zIiwiYnVkZ2V0SW5wdXRUbyIsInJlcSIsInZhbHVlIiwic2VsZWN0ZWRMYW5ndWFnZSIsIm5hdmlnYXRvciIsInVybCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsImV2dCIsInJlYWR5U3RhdGUiLCJzZXRMYW5ndWFnZSIsIk11bHRpTGFuZyIsImxhbmciLCJvbmxvYWQiLCJsYW5nY29kZSIsImxhbmd1YWdlIiwidXNlckxhbmd1YWdlIiwic3Vic3RyaW5nIiwib25Mb2FkIiwia2V5IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic3RhdHVzIiwiZ2V0IiwiSlNPTiIsInJlc3BvbnNlVGV4dCIsInN0ciIsImJpbmQiLCJtdWx0aWxhbmciLCJsYW5nU2VsZWN0Q2hhbmdlIiwicmVmcmVzaExhYmVscyIsInNlbmQiLCJpIiwiYWxsbm9kZXMiLCJ0ZXh0Q29udGVudCIsInBocmFzZXMiLCJoYXNPd25Qcm9wZXJ0eSIsImxhbmdCdG5zIiwicHJldmVudERlZmF1bHQiLCJoaWRlRmlsZUlucHV0IiwiY2xpY2siLCJmaWxlbmFtZUxpc3QiLCJzZWwiLCJmaWxlIiwiZmlsZUxpc3RJdGVtIiwiaW5uZXJUZXh0IiwibWF4IiwiaWRuYW1lIiwiaGFuZGxlQ3VycmVudFllYXIiLCJidG5GaWxlVXBsb2FkIiwiZmlsZVVwbG9hZExhYmVsIiwiZm9vdGVyWWVhciIsIkFycmF5IiwicHJvdG90eXBlIiwibWFwIiwiY2FsbCIsImZpbGVzIiwibmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwibWFwcGluZ3MiOiJxK0JBRUEsSUFBTUEsYUFBZUMsU0FBU0MsaUJBQWlCLDZCQUE2QixFQUN0RUMsYUFBZUYsU0FBU0csY0FBYyw4QkFBOEIsRUFDcEVDLFdBQWFKLFNBQVNHLGNBQWMsWUFBWSxFQUNoREUsVUFBWUwsU0FBU0MsaUJBQWlCLGlCQUFpQixFQUN2REssS0FBT04sU0FBU0csY0FBYyxNQUFNLEVBc0JoQkksZUE1QjFCUixhQUFBUyxRQUFBLFNBQUFDLEdBQUEsT0FTQ0EsRUFBSUMsaUJB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QUFiLEdBQzVELE9BQU9BLEVBQUtjLElBQ2QsQ0FBQyxFQUNKUCxnQkFBZ0JMLFVBQVksaUJBRTVCSixFQUFhYSxJQUFLLFNBQUFYLEdBQ25CLElBQU1DLEVBQWU1RyxTQUFTMEgsY0FBYyxJQUFJLEVBQ2hEZCxFQUFhQyxVQUFZRixFQUN6Qk8sZ0JBQWdCUyxZQUFZZixDQUFZLENBQ3ZDLENBQUMsQ0FFSixDQUFDLEVBR2tCNUcsU0FBU0csY0FBYyxvQkFBb0IsR0FDeEQ2RyxrQkFBb0IsV0FDekIsSUFBTVksR0FBTyxJQUFJQyxNQUFPQyxZQUFZLEVBQ3BDWCxXQUFXTixVQUFZZSxDQUN4QixFQUVBWixrQkFBa0IiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL05hdmJhclxuXG5jb25zdCBtZW51T3BlbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tb2JpbGUtbWVudS1idG4tLW9wZW4nKVxuY29uc3QgbWVudUNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbW9iaWxlLW1lbnUtYnRuLS1jbG9zZScpXG5jb25zdCBtb2JpbGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbWVudScpXG5jb25zdCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19tZW51LWl0ZW0nKVxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxuXG5tZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT5cblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG1vYmlsZU1lbnUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblx0XHRidG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1idG4nKVxuXHRcdG1lbnVDbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKCdzaG93LWJ0bicpXG5cdFx0Ym9keS5jbGFzc0xpc3QuYWRkKCdzdG9wLXNjcm9sbGluZycpXG5cdFx0bGFuZ0xpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWxhbmcnKVxuXHR9KVxuKVxuXG5tZW51Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0bWVudU9wZW5CdG5zLmZvckVhY2goYnRuID0+IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWJ0bicpKVxuXHRtZW51Q2xvc2VCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1idG4nKVxuXHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0b3Atc2Nyb2xsaW5nJylcbn0pXG5cbm1lbnVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRtZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtYnRuJykpXG5cdFx0bWVudUNsb3NlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYnRuJylcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0b3Atc2Nyb2xsaW5nJylcblx0fSlcbn0pXG5cbi8vIE11bHRpbGFuZ3VhZ2UgbWVudVxuXG5jb25zdCBtdWx0aUxhbmdCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbW9yZS1sYW5nLWJ0bicpXG5jb25zdCBsYW5nTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2xhbmctbGlzdCcpXG5cbm11bHRpTGFuZ0J0bnMuZm9yRWFjaChidG4gPT4ge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0bGFuZ0xpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLWxhbmcnKVxuXHRcdG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcblx0XHRtZW51T3BlbkJ0bnMuZm9yRWFjaChidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtYnRuJykpXG5cdFx0bWVudUNsb3NlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctYnRuJylcblx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3N0b3Atc2Nyb2xsaW5nJylcblx0fSlcbn0pXG5cbmNvbnN0IGNsb3NlTGFuZyA9ICgpID0+IHtcblx0bGFuZ0xpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLWxhbmcnKVxufVxuXG4vLyBjb25zdCBjbG9zZUxhbmdPdXRzaWRlID0gZSA9PiB7XG4vLyBcdGlmICggZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZfX21vcmUtbGFuZy1idG4nKSkgcmV0dXJuXG5cbi8vIFx0Y2xvc2VMYW5nKClcbi8vIH1cblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VMYW5nT3V0c2lkZSlcblxuLy8gR2FsbGVyeSBjYXJvdXNlbFxuXG5jb25zdCBnYWxsZXJ5U2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNob3dyZWVsX19nYWxsZXJ5LWltZy1ib3gnKVxuY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNhcm91c2VsLWJ1dHRvbl0nKVxuY29uc3QgZ2FsbGVyeUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG93cmVlbF9fZ2FsbGVyeS1pbWctYm94JylcblxuYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG5cdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRjb25zdCBvZmZzZXQgPSBidXR0b24uZGF0YXNldC5jYXJvdXNlbEJ1dHRvbiA9PT0gJ25leHQnID8gMSA6IC0xXG5cblx0XHRjb25zdCBpbWdQb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2hvd3JlZWxfX3Bvc2l0aW9uJylcblxuXHRcdGltZ1Bvcy5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4U2xpZGUgPSBnYWxsZXJ5U2xpZGVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXNsaWRlLSR7aW5kZXh9XWApXG5cblx0XHRcdGxldCBuZXdTbGlkZSA9IFsuLi5pbWdQb3NdLmluZGV4T2YoaW5kZXhTbGlkZSkgKyBvZmZzZXRcblxuXHRcdFx0aWYgKG5ld1NsaWRlIDwgMCkgbmV3U2xpZGUgPSBpbWdQb3MubGVuZ3RoIC0gMVxuXHRcdFx0aWYgKG5ld1NsaWRlID4gaW1nUG9zLmxlbmd0aCAtIDEpIG5ld1NsaWRlID0gMFxuXG5cdFx0XHRpbWdQb3NbbmV3U2xpZGVdLmRhdGFzZXRbYHNsaWRlLSR7aW5kZXh9YF0gPSB0cnVlXG5cdFx0XHRkZWxldGUgaW5kZXhTbGlkZS5kYXRhc2V0W2BzbGlkZS0ke2luZGV4fWBdXG5cdFx0fSlcblx0fSlcbn0pXG5cbmNvbnN0IHNob3dSZWxsTW9iaWxlQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNob3ctYnRuXScpXG5jb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2hvdy1idG49XCJuZXh0XCJdJylcbmNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zaG93LWJ0bj1cInByZXZcIl0nKVxubGV0IGNvbnRlbnRXaWR0aCA9IDE2MDBcblxuc2hvd1JlbGxNb2JpbGVCdG5zLmZvckVhY2goYnV0dG9uID0+IHtcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGxldCBjb3VudGVyID0gYnV0dG9uLmRhdGFzZXQuc2hvd0J0biA9PT0gJ25leHQnID8gMSA6IC0xXG5cblx0XHRjb25zdCBpbWdMaXN0ID0gYnV0dG9uLmNsb3Nlc3QoJ1tkYXRhLWNhcm91c2VsXScpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNhcm91c2VsLWltZ3NdJylcblxuXHRcdGNvbnN0IGFjdGl2ZUltZyA9IGltZ0xpc3QucXVlcnlTZWxlY3RvcignW2RhdGEtYWN0aXZlXScpXG5cblx0XHRsZXQgbmV3QWN0aXZlSW1nID0gKG5ld0FjdGl2ZUltZyA9IFsuLi5pbWdMaXN0LmNoaWxkcmVuXS5pbmRleE9mKGFjdGl2ZUltZykgKyBjb3VudGVyKVxuXG5cdFx0aWYgKG5ld0FjdGl2ZUltZyA8IDApIG5ld0FjdGl2ZUltZyA9IGltZ0xpc3QuY2hpbGRyZW4ubGVuZ3RoIC0gMVxuXHRcdGlmIChuZXdBY3RpdmVJbWcgPj0gaW1nTGlzdC5jaGlsZHJlbi5sZW5ndGgpIG5ld0FjdGl2ZUltZyA9IDBcblxuXHRcdGltZ0xpc3QuY2hpbGRyZW5bbmV3QWN0aXZlSW1nXS5kYXRhc2V0LmFjdGl2ZSA9IHRydWVcblx0XHRkZWxldGUgYWN0aXZlSW1nLmRhdGFzZXQuYWN0aXZlXG5cdH0pXG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuXHRsZXQgaW5zZXRXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG5cdGxldCBib3hXaWR0aCA9IGluc2V0V2luZG93V2lkdGggLyBjb250ZW50V2lkdGhcblx0Z2FsbGVyeUJveC5zdHlsZS50cmFuc2Zvcm0gPSBib3hXaWR0aCA+PSAxID8gJ3NjYWxlKDEpJyA6IGBzY2FsZSgke2JveFdpZHRofSlgXG59KVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG5cdGxldCBpbnNldFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcblx0bGV0IGJveFdpZHRoID0gaW5zZXRXaW5kb3dXaWR0aCAvIGNvbnRlbnRXaWR0aFxuXHRnYWxsZXJ5Qm94LnN0eWxlLnRyYW5zZm9ybSA9IGJveFdpZHRoID49IDEgPyAnc2NhbGUoMSknIDogYHNjYWxlKCR7Ym94V2lkdGh9KWBcbn0pXG5cbi8vIFF1ZXN0aW9ucyBhY2NvcmRlb25cblxuY29uc3QgYWNjb3JkZW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uc19fYm94LWxpc3RzJylcbmNvbnN0IGFjY29yZGVvbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucXVlc3Rpb25zX19hY2NvcmRlb24tYm94LWNvbnRlbnQnKVxuXG5mdW5jdGlvbiBvcGVuQWNjb3JkZW9uSXRlbXMoKSB7XG5cdGlmICh0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctYWNjJykpIHtcblx0XHR0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWFjYycpXG5cdFx0dGhpcy5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdH0gZWxzZSB7XG5cdFx0Y2xvc2VBY2NvcmRlb25JdGVtcygpXG5cdFx0dGhpcy5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1hY2MnKVxuXHRcdHRoaXMubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuXHR9XG59XG5cbmNvbnN0IGNsb3NlQWNjb3JkZW9uSXRlbXMgPSAoKSA9PiB7XG5cdGNvbnN0IGFsbEFjdGl2ZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnF1ZXN0aW9uc19fYWNjb3JkZW9uLWluZm8nKVxuXHRhbGxBY3RpdmVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWFjYycpKVxuXHRhY2NvcmRlb25CdG5zLmZvckVhY2goYnRuID0+IHtcblx0XHRidG4ubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuXHR9KVxufVxuXG5jb25zdCBjbGlja091dHNpZGVBY2NvcmRlb24gPSBlID0+IHtcblx0aWYgKFxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0JykgfHxcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3F1ZXN0aW9uc19fYWNjb3JkZW9uLWluZm8nKSB8fFxuXHRcdGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncXVlc3Rpb25zX19hY2NvcmRlb24taW5mby10ZXh0Jylcblx0KVxuXHRcdHJldHVyblxuXG5cdGNsb3NlQWNjb3JkZW9uSXRlbXMoKVxufVxuXG5hY2NvcmRlb25CdG5zLmZvckVhY2goYnRuID0+IHtcblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFjY29yZGVvbkl0ZW1zKVxufSlcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tPdXRzaWRlQWNjb3JkZW9uKVxuXG4vLyBDb250YWN0IGZvcm0gYnVkZ2V0XG5cbmNvbnN0IGJ1ZGdldEJveEZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fYnVkZ2V0LWJveC0tZnJvbScpXG5jb25zdCBidWRnZXRCb3hUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19idWRnZXQtYm94LS10bycpXG5jb25zdCBidWRnZXRJbnB1dEZyb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnVkZ2V0LWZyb20nKVxuY29uc3QgYnVkZ2V0SW5wdXRUbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidWRnZXQtdG8nKVxuXG5idWRnZXRJbnB1dEZyb20uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsICgpID0+IHtcblx0YnVkZ2V0SW5wdXRGcm9tLnZhbHVlID0gJydcblxuXHRidWRnZXRCb3hGcm9tLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG59KVxuXG5idWRnZXRJbnB1dFRvLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCAoKSA9PiB7XG5cdGJ1ZGdldElucHV0VG8udmFsdWUgPSAnJ1xuXHRidWRnZXRCb3hUby5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxufSlcblxuYnVkZ2V0SW5wdXRGcm9tLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKCkgPT4ge1xuXHRidWRnZXRCb3hGcm9tLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG5cdGJ1ZGdldEJveFRvLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG59KVxuYnVkZ2V0SW5wdXRUby5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsICgpID0+IHtcblx0YnVkZ2V0Qm94VG8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbn0pXG5cbi8vTXVsdGkgbGFuZ3VhZ2VcblxuY29uc3QgbGFuZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19sYW5nLWJ0bicpXG5cbmxldCBNdWx0aUxhbmcgPSBmdW5jdGlvbiAodXJsLCBsYW5nLCBvbmxvYWQpIHtcblx0dGhpcy5waHJhc2VzID0ge31cblxuXHR0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UgPSAobGFuZyB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSkuc3Vic3RyaW5nKDAsIDIpXG5cblx0dGhpcy5vbkxvYWQgPSBvbmxvYWRcblxuXHRpZiAodHlwZW9mIHVybCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRsZXQgb2JqID0gdGhpc1xuXHRcdGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG5cdFx0cmVxLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSlcblx0XHRyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0aWYgKGV2dC50YXJnZXQucmVhZHlTdGF0ZSA9PSA0ICYmIGV2dC50YXJnZXQuc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHR0aGlzLnBocmFzZXMgPSBKU09OLnBhcnNlKGV2dC50YXJnZXQucmVzcG9uc2VUZXh0KVxuXG5cdFx0XHRcdHRoaXMuc2V0TGFuZ3VhZ2UodGhpcy5zZWxlY3RlZExhbmd1YWdlKVxuXG5cdFx0XHRcdGlmICh0aGlzLm9uTG9hZCkge1xuXHRcdFx0XHRcdHRoaXMub25Mb2FkKClcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0uYmluZChvYmopXG5cdFx0cmVxLmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHQnZXJyb3InLFxuXHRcdFx0ZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ011bHRpTGFuZy5qczogRXJyb3IgcmVhZGluZyBqc29uIGZpbGUuJylcblx0XHRcdH0sXG5cdFx0XHRmYWxzZVxuXHRcdClcblxuXHRcdHJlcS5zZW5kKG51bGwpXG5cdH1cblxuXHR0aGlzLnNldExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdjb2RlKSB7XG5cdFx0aWYgKCF0aGlzLnBocmFzZXMuaGFzT3duUHJvcGVydHkobGFuZ2NvZGUpKSB7XG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gdGhpcy5waHJhc2VzKSB7XG5cdFx0XHRcdGlmICh0aGlzLnBocmFzZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGxhbmdjb2RlID0ga2V5XG5cdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc2VsZWN0ZWRMYW5ndWFnZSA9IGxhbmdjb2RlXG5cdH1cblxuXHR0aGlzLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRsZXQgc3RyXG5cdFx0aWYgKHRoaXMucGhyYXNlc1t0aGlzLnNlbGVjdGVkTGFuZ3VhZ2VdKSBzdHIgPSB0aGlzLnBocmFzZXNbdGhpcy5zZWxlY3RlZExhbmd1YWdlXVtrZXldXG5cblx0XHRzdHIgPSBzdHIgfHwga2V5XG5cdFx0cmV0dXJuIHN0clxuXHR9XG59XG5sZXQgbXVsdGlsYW5nXG5cbmZ1bmN0aW9uIG9uTG9hZCgpIHtcblx0bXVsdGlsYW5nID0gbmV3IE11bHRpTGFuZygnZGF0YUxhbmcuanNvbicsICdlbicpXG59XG5cbmZ1bmN0aW9uIGxhbmdTZWxlY3RDaGFuZ2Uoc2VsKSB7XG5cdG11bHRpbGFuZy5zZXRMYW5ndWFnZShzZWwudmFsdWUpXG5cdHJlZnJlc2hMYWJlbHMoKVxufVxuXG5mdW5jdGlvbiByZWZyZXNoTGFiZWxzKCkge1xuXHRsZXQgYWxsbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sYW5nXScpXG5cblx0Zm9yIChsZXQgaSA9IDAsIG1heCA9IGFsbG5vZGVzLmxlbmd0aDsgaSA8IG1heDsgaSsrKSB7XG5cdFx0bGV0IGlkbmFtZSA9IGFsbG5vZGVzW2ldLmRhdGFzZXQubGFuZ1xuXHRcdGlmIChpZG5hbWUgIT0gJycpIHtcblx0XHRcdGFsbG5vZGVzW2ldLnRleHRDb250ZW50ID0gbXVsdGlsYW5nLmdldChpZG5hbWUpXG5cdFx0fVxuXHR9XG59XG5cbmxhbmdCdG5zLmZvckVhY2goYnRuID0+XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRcdGxhbmdTZWxlY3RDaGFuZ2UoZS50YXJnZXQpXG5cdH0pXG4pXG5cbmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCgpKVxubGFuZ0J0bnMuZm9yRWFjaChidG4gPT5cblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGxhbmdMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1sYW5nJylcblx0fSlcbilcblxuLy9Db250YWN0IGZvcm0gaW5wdXQgbGlzdCBcblxuY29uc3QgYnRuRmlsZVVwbG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19hdHRhY2htZW50cy1idG4nKVxuY29uc3QgaGlkZUZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19hdHRhY2htZW50cy1pbnB1dCcpXG5jb25zdCBmaWxlVXBsb2FkTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fYXR0YWNobWVudHMtbGFiZWwnKVxuY29uc3QgbGFiZWxPdXRwdXQgPSBbXVxuXG5cbmJ0bkZpbGVVcGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KClcblx0aGlkZUZpbGVJbnB1dC5jbGljaygpXG5cdFxufSlcblxuaGlkZUZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG5cblx0Y29uc3QgZmlsZW5hbWVMaXN0ID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGhpZGVGaWxlSW5wdXQuZmlsZXMsIGZpbGUgPT4gIHtcbiAgICAgICAgcmV0dXJuIGZpbGUubmFtZTtcbiAgICAgIH0pO1xuXHQgIGZpbGVVcGxvYWRMYWJlbC5pbm5lclRleHQgPSAnV3licmFuZSBwbGlraTonXG5cblx0ICBmaWxlbmFtZUxpc3QubWFwKCBmaWxlID0+IHtcblx0XHRjb25zdCBmaWxlTGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG5cdFx0ZmlsZUxpc3RJdGVtLmlubmVyVGV4dCA9IGZpbGVcblx0XHRmaWxlVXBsb2FkTGFiZWwuYXBwZW5kQ2hpbGQoZmlsZUxpc3RJdGVtKVxuXHQgIH0pXG5cdFx0IFxufSlcbi8vIEZvb3RlciBjdXJyZW50IHllYXJcblxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX2Zvb3QteWVhcicpXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXJcbn1cblxuaGFuZGxlQ3VycmVudFllYXIoKVxuIl19
